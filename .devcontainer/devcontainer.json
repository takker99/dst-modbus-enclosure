// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.245.2/containers/ubuntu
{
	"customizations": {
		"vscode": {
			"extensions": [
				"Leathong.openscad-language-support"
			]
		}
	},
	"features": {
		"ghcr.io/devcontainers/features/github-cli:1": {
			"version": "latest"
		},
		"ghcr.io/jsburckhardt/devcontainer-features/uv:1": {},
		"ghcr.io/devcontainers/features/rust:1": {},
		"./features/openscad-snapshot": {
			"installMethod": "apt-nightly"
		}
	},
	"image": "mcr.microsoft.com/devcontainers/base:ubuntu",
	"remoteEnv": {
		"DISPLAY": "${localEnv:DISPLAY}",
		"WAYLAND_DISPLAY": "${localEnv:WAYLAND_DISPLAY}",
		"XDG_RUNTIME_DIR": "${localEnv:XDG_RUNTIME_DIR}",
		"PULSE_SERVER": "${localEnv:PULSE_SERVER}",
		"LIBGL_ALWAYS_INDIRECT": "1"
	},
	"mounts": [
		"source=/tmp/.X11-unix,target=/tmp/.X11-unix,type=bind,consistency=cached",
		"source=/mnt/wslg,target=/mnt/wslg,type=bind,consistency=cached"
	]
}